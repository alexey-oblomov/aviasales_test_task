{"version":3,"sources":["components/header/header.jsx","components/filter_transfers/flter_transfers.jsx","components/ticket/ticket.jsx","components/main_window/main_window.jsx","utils/request.js","utils/paths.js","app.js","index.js"],"names":["Header","className","FilterHeader","type","name","id","htmlFor","Ticket","props","ticket","carrier","price","segments","carrierUrl","segmentForward","originForward","origin","destinationForward","destination","durationForward","duration","stopsForward","stops","segmentBack","originBack","destinationBack","durationBack","stopsBack","console","log","src","alt","join","MainWindow","listTickets","displayTickets","map","item","key","uniqueId","getSearchId","axios","get","then","response","data","searchId","catch","error","getOnePackTickets","getTicketsUrl","App","state","tickets","processingAllTickets","getAllTickets","stop","proccesingCurrenthPack","moveItemsToDisplayTickets","oldValue","length","newValue","setState","currentTickets","i","push","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"wXAGe,SAASA,IACtB,OACE,yBAAKC,UAAU,kBACb,yBAAKA,UAAU,U,MCHN,SAASC,IACtB,OACE,0BAAMD,UAAU,iBACd,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,oBAAf,uHAEA,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,YACb,2BAAOE,KAAK,WAAWC,KAAK,MAAMC,GAAG,YAEvC,yBAAKJ,UAAU,kBACb,2BAAOK,QAAQ,UAAf,wBAIJ,yBAAKL,UAAU,oBACb,yBAAKA,UAAU,YACb,2BAAOE,KAAK,WAAWC,KAAK,MAAMC,GAAG,YAEvC,yBAAKJ,UAAU,kBACb,2BAAOK,QAAQ,UAAf,+EAIJ,yBAAKL,UAAU,oBACb,yBAAKA,UAAU,YACb,2BAAOE,KAAK,WAAWC,KAAK,MAAMC,GAAG,YAEvC,yBAAKJ,UAAU,kBACb,2BAAOK,QAAQ,UAAf,8DAIJ,yBAAKL,UAAU,oBACb,yBAAKA,UAAU,YACb,2BAAOE,KAAK,WAAWC,KAAK,MAAMC,GAAG,YAEvC,yBAAKJ,UAAU,kBACb,2BAAOK,QAAQ,UAAf,8DAIJ,yBAAKL,UAAU,oBACb,yBAAKA,UAAU,YACb,2BAAOE,KAAK,WAAWC,KAAK,MAAMC,GAAG,YAEvC,yBAAKJ,UAAU,kBACb,2BAAOK,QAAQ,UAAf,gE,wBC9CL,SAASC,EAAOC,GAAQ,IACrBC,EAAWD,EAAXC,OACAC,EAA6BD,EAA7BC,QAASC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,SAClBC,EAAU,mCAA+BH,EAA/B,QACVI,EAAiBF,EAAS,GAEtBG,EAIND,EAJFE,OACaC,EAGXH,EAHFI,YACUC,EAERL,EAFFM,SACOC,EACLP,EADFQ,MAEIC,EAAcX,EAAS,GAEnBY,EAIND,EAJFP,OACaS,EAGXF,EAHFL,YACUQ,EAERH,EAFFH,SACOO,EACLJ,EADFD,MAIF,OAFAM,QAAQC,IAAI,uEAAiBnB,GAG3B,yBAAKT,UAAU,kBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,wBAAwBU,EAAvC,WACA,yBAAKV,UAAU,uBACb,yBAAK6B,IAAKjB,EAAYkB,IAAI,OAI9B,yBAAK9B,UAAU,6BACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,0BAAMA,UAAU,sCACbc,EADH,IACmBE,IAGrB,yBAAKhB,UAAU,iCACb,0BAAMA,UAAU,uCAAhB,oCAEF,yBAAKA,UAAU,gCACb,0BAAMA,UAAU,sCAAhB,8DAGJ,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,+BACb,0BAAMA,UAAU,qCAAhB,gBAEF,yBAAKA,UAAU,gCACb,0BAAMA,UAAU,sCAAsCkB,IAExD,yBAAKlB,UAAU,+BACb,0BAAMA,UAAU,qCAAqCoB,EAAaW,KAAK,SAK7E,yBAAK/B,UAAU,yBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,mCACbuB,EADH,IACgBC,IAGlB,yBAAKxB,UAAU,8BACb,0BAAMA,UAAU,oCAAhB,oCAEF,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,mCAAhB,8DAGJ,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,4BACb,0BAAMA,UAAU,kCAAhB,gBAEF,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,mCAAmCyB,IAErD,yBAAKzB,UAAU,4BACb,0BAAMA,UAAU,kCAAkC0B,EAAUK,KAAK,UC7E9D,SAASC,EAAWzB,GAAQ,IAEnC0B,EADqB1B,EAAnB2B,eAC2BC,KAAI,SAACC,GACtC,OAAO,kBAAC9B,EAAD,CAAQ+B,IAAKC,qBAAY9B,OAAQ4B,OAE1C,OACE,yBAAKpC,UAAU,wBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,yBAAf,6EACA,yBAAKA,UAAU,0BAAf,8EAEF,yBAAKA,UAAU,kCAAkCiC,I,oBCZ1CM,EAAc,kBACzBC,IACGC,ICNyB,+CDOzBC,MAAK,SAACC,GACL,OAAOA,EAASC,KAAKC,YAEtBC,OAAM,SAACC,GAAD,OAAWpB,QAAQC,IAAImB,OAErBC,EAAoB,SAAC5C,GAChC,IAAM6C,ECZqB,yDDYe7C,EAS1C,OAReoC,IACZC,IAAIQ,GACJP,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBE,OAAM,SAACC,QEqEGG,E,4MAhFbC,MAAQ,CACNC,QAAS,GACTlB,eAAgB,I,EAGlBmB,qBAAuB,WACrBd,IAAcG,MAAK,SAACtC,GAClB,EAAKkD,cAAclD,O,EAIvBkD,cAAgB,SAAClD,GACf4C,EAAkB5C,GAAIsC,MAAK,SAACC,GAC1B,GAAKA,EAEE,CAAC,IACEY,EAAkBZ,EAAlBY,KAAMH,EAAYT,EAAZS,QACd,IAAa,IAATG,EACF,EAAKC,uBAAuBJ,GAC5BzB,QAAQC,IAAI,4NACZ,EAAK6B,4BACL,EAAKH,cAAclD,QACd,IAAa,IAATmD,EAKT,OAJA,EAAKC,uBAAuBJ,GAC5BzB,QAAQC,IAAI,wOACZ,EAAK6B,iCACL9B,QAAQC,IAAI,0HAA4B2B,QAZ1C,EAAKD,cAAclD,O,EAmBzBoD,uBAAyB,SAACJ,GACxB,IAAMM,EAAW,EAAKP,MAAMC,QAC5BzB,QAAQC,IAAI,6LAAwCwB,EAAQO,QAC5D,IAAMC,EAAQ,sBAAOF,GAAP,YAAoBN,IAClC,EAAKS,SAAS,CACZT,QAASQ,K,EAIbH,0BAA4B,WAG1B,IAFA,IAAMK,EAAiB,EAAKX,MAAMC,QAC9BQ,EAAW,GACNG,EAAI,EAAGA,EAAI,GAAIA,IACtBH,EAASI,KAAKF,EAAeC,IAE/B,EAAKF,SAAS,CACZ3B,eAAgB0B,K,kEAKlBK,KAAKZ,yB,+BAGG,IACAnB,EAAmB+B,KAAKd,MAAxBjB,eAER,OACE,yBAAKlC,UAAU,WACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,UACb,kBAACD,EAAD,OAEF,yBAAKC,UAAU,QACb,yBAAKA,UAAU,cACb,kBAAC,EAAD,OAEF,yBAAKA,UAAU,eACb,kBAACgC,EAAD,CAAYE,eAAgBA,Y,GAxExBgC,IAAMC,WCDxBC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.ff27ebce.chunk.js","sourcesContent":["import React from 'react';\r\nimport './header.css';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"header-wrapper\">\r\n      <div className=\"logo\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './filter_transfers.css';\r\n\r\nexport default function FilterHeader() {\r\n  return (\r\n    <form className=\"form-checkbox\">\r\n      <div className=\"inputs-block\">\r\n        <div className=\"checkbox-heading\">Количество пересадок</div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"all\" id=\"check1\" />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"check1\">Все</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"all\" id=\"check2\" />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"check2\">Без пересадок</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"all\" id=\"check3\" />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"check3\">1 пересадка</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"all\" id=\"check4\" />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"check4\">2 пересадки</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"all\" id=\"check5\" />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"check5\">3 пересадки</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './ticket.css';\r\n\r\nexport function Ticket(props) {\r\n  const { ticket } = props;\r\n  const { carrier, price, segments } = ticket;\r\n  const carrierUrl = `http://pics.avs.io/99/36/${carrier}.png`;\r\n  const segmentForward = segments[0];\r\n  const {\r\n    origin: originForward,\r\n    destination: destinationForward,\r\n    duration: durationForward,\r\n    stops: stopsForward,\r\n  } = segmentForward;\r\n  const segmentBack = segments[1];\r\n  const {\r\n    origin: originBack,\r\n    destination: destinationBack,\r\n    duration: durationBack,\r\n    stops: stopsBack,\r\n  } = segmentBack;\r\n  console.log('Рисуем билет ', carrier);\r\n\r\n  return (\r\n    <div className=\"ticket-wrapper\">\r\n      <div className=\"ticket-header\">\r\n        <div className=\"ticket-header__price\">{price} Р</div>\r\n        <div className=\"ticket-header__logo\">\r\n          <img src={carrierUrl} alt=\"\"></img>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ticked-forward__container\">\r\n        <div className=\"ticket-forward__header\">\r\n          <div className=\"ticket-forward__header-route\">\r\n            <span className=\"ticket-forward__header-route--span\">\r\n              {originForward}-{destinationForward}\r\n            </span>\r\n          </div>\r\n          <div className=\"ticket-forward__header-length\">\r\n            <span className=\"ticket-forward__header-length--span\">В пути</span>\r\n          </div>\r\n          <div className=\"ticket-forward__header-stops\">\r\n            <span className=\"ticket-forward__header-stops--span\">2 пересадки</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"ticket-forward__value\">\r\n          <div className=\"ticket-forward__value-route\">\r\n            <span className=\"ticket-forward__value-route--span\">10:45-18:00</span>\r\n          </div>\r\n          <div className=\"ticket-forward__value-length\">\r\n            <span className=\"ticket-forward__value-length--span\">{durationForward}</span>\r\n          </div>\r\n          <div className=\"ticket-forward__value-stops\">\r\n            <span className=\"ticket-forward__value-stops--span\">{stopsForward.join(' ')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ticked-back-container\">\r\n        <div className=\"ticket-back__header\">\r\n          <div className=\"ticket-back__header-route\">\r\n            <span className=\"ticket-back__header-route--span\">\r\n              {originBack}-{destinationBack}\r\n            </span>\r\n          </div>\r\n          <div className=\"ticket-back__header-length\">\r\n            <span className=\"ticket-back__header-length--span\">В пути</span>\r\n          </div>\r\n          <div className=\"ticket-back__header-stops\">\r\n            <span className=\"ticket-back__header-stops--span\">2 пересадки</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"ticket-back__value\">\r\n          <div className=\"ticket-back__value-route\">\r\n            <span className=\"ticket-back__value-route--span\">10:45-18:00</span>\r\n          </div>\r\n          <div className=\"ticket-back__value-length\">\r\n            <span className=\"ticket-back__value-length--span\">{durationBack}</span>\r\n          </div>\r\n          <div className=\"ticket-back__value-stops\">\r\n            <span className=\"ticket-back__value-stops--span\">{stopsBack.join(' ')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { uniqueId } from 'lodash';\r\nimport './main_window.css';\r\nimport { Ticket } from '../ticket/ticket';\r\n\r\nexport default function MainWindow(props) {\r\n  const { displayTickets } = props;\r\n  const listTickets = displayTickets.map((item) => {\r\n    return <Ticket key={uniqueId()} ticket={item} />;\r\n  });\r\n  return (\r\n    <div className=\"main-window__wrapper\">\r\n      <div className=\"main-window__btn-container\">\r\n        <div className=\"main-window__btn-left\">Самый дешевый</div>\r\n        <div className=\"main-window__btn-right\">Самый быстрый</div>\r\n      </div>\r\n      <div className=\"main-window__tickets-container\">{listTickets}</div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport { getSearchIdUrl as baseUrlSearchId } from './paths.js';\r\nimport { getTicketsUrl as baseUrlForTickets } from './paths.js';\r\n\r\nexport const getSearchId = () =>\r\n  axios\r\n    .get(baseUrlSearchId)\r\n    .then((response) => {\r\n      return response.data.searchId;\r\n    })\r\n    .catch((error) => console.log(error));\r\n\r\nexport const getOnePackTickets = (id) => {\r\n  const getTicketsUrl = baseUrlForTickets + id;\r\n  let response = axios\r\n    .get(getTicketsUrl)\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      return;\r\n    });\r\n  return response;\r\n};\r\n","export const getSearchIdUrl = 'https://front-test.beta.aviasales.ru/search'; // получение searchId\r\nexport const getTicketsUrl = 'https://front-test.beta.aviasales.ru/tickets?searchId='; //получение пачки билетов","import React from 'react';\r\nimport './app.css';\r\nimport Header from './components/header/header';\r\nimport FilterTransfers from './components/filter_transfers/flter_transfers';\r\nimport MainWindow from './components/main_window/main_window';\r\nimport { getSearchId, getOnePackTickets } from './utils/request';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    tickets: [],\r\n    displayTickets: [],\r\n  };\r\n\r\n  processingAllTickets = () => {\r\n    getSearchId().then((id) => {\r\n      this.getAllTickets(id);\r\n    });\r\n  };\r\n\r\n  getAllTickets = (id) => {\r\n    getOnePackTickets(id).then((response) => {\r\n      if (!response) {\r\n        this.getAllTickets(id);\r\n      } else {\r\n        const { stop, tickets } = response;\r\n        if (stop === false) {\r\n          this.proccesingCurrenthPack(tickets);\r\n          console.log('Обычная обработка, кладем пачку в дисплей');\r\n          this.moveItemsToDisplayTickets();\r\n          this.getAllTickets(id);\r\n        } else if (stop === true) {\r\n          this.proccesingCurrenthPack(tickets);\r\n          console.log('Последняя обработка, кладем пачку в дисплей');\r\n          this.moveItemsToDisplayTickets();\r\n          console.log('Стоп! Кончились билеты. ', stop);\r\n          return;\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  proccesingCurrenthPack = (tickets) => {\r\n    const oldValue = this.state.tickets;\r\n    console.log('Получаем пачку. Количество билетов: ', tickets.length);\r\n    const newValue = [...oldValue, ...tickets];\r\n    this.setState({\r\n      tickets: newValue,\r\n    });\r\n  };\r\n\r\n  moveItemsToDisplayTickets = () => {\r\n    const currentTickets = this.state.tickets;\r\n    let newValue = [];\r\n    for (let i = 0; i < 15; i++) {\r\n      newValue.push(currentTickets[i]);\r\n    }\r\n    this.setState({\r\n      displayTickets: newValue,\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.processingAllTickets();\r\n  }\r\n\r\n  render() {\r\n    const { displayTickets } = this.state;\r\n\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <div className=\"app\">\r\n          <div className=\"header\">\r\n            <Header />\r\n          </div>\r\n          <div className=\"main\">\r\n            <div className=\"left-aside\">\r\n              <FilterTransfers />\r\n            </div>\r\n            <div className=\"right-aside\">\r\n              <MainWindow displayTickets={displayTickets} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}