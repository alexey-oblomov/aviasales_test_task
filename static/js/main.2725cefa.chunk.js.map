{"version":3,"sources":["components/header/header.jsx","components/filter_transfers/flter_transfers.jsx","components/ticket/ticket.jsx","components/main_window/main_window.jsx","utils/request.js","utils/paths.js","app.js","index.js"],"names":["Header","className","FilterHeader","handleChecked","event","currentTarget","checked","id","console","log","type","name","onChange","htmlFor","Ticket","props","ticket","carrier","price","segments","carrierUrl","segmentForward","originForward","origin","destinationForward","destination","durationForward","duration","stopsForward","stops","segmentBack","originBack","destinationBack","durationBack","stopsBack","viewPrice","string","toString","length","split","idx","firstItems","slice","lastItems","displayPrice","src","alt","join","MainWindow","displayTickets","handleSortByPrice","handleSortByDuration","listTickets","map","item","key","uniqueId","onClick","getSearchId","axios","get","then","response","data","searchId","catch","error","getOnePackTickets","getTicketsUrl","sortByPrice","array","sort","ticketA","ticketB","priceA","priceB","sortByDuration","durationA","durationB","toggleClassBtnActive","classList","contains","btns","document","querySelectorAll","i","toggle","App","state","tickets","numberOfDisplayed","filterStops","processingAllTickets","getAllTickets","stop","proccesingCurrenthPack","moveItemsToDisplayTickets","oldValue","newValue","setState","push","result","concat","filter","this","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2725cefa.chunk.js","sourcesContent":["import React from 'react';\r\nimport './header.css';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"header-wrapper\">\r\n      <div className=\"logo\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './filter_transfers.css';\r\n\r\nexport default function FilterHeader() {\r\n  const handleChecked = (event) => {\r\n    const {checked, id } = event.currentTarget;\r\n    console.log('Клик! ', id, checked);\r\n  };\r\n\r\n  return (\r\n    <form className=\"form-checkbox\">\r\n      <div className=\"inputs-block\">\r\n        <div className=\"checkbox-heading\">Количество пересадок</div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"all\" id=\"-1\" onChange={handleChecked} />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"-1\">Все</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"withoutStops\" id=\"0\" onChange={handleChecked} />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"0\">Без пересадок</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"one\" id=\"1\" onChange={handleChecked} />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"1\">1 пересадка</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"two\" id=\"2\" onChange={handleChecked} />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"2\">2 пересадки</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"checkbox-wrapper\">\r\n          <div className=\"checkbox\">\r\n            <input type=\"checkbox\" name=\"three\" id=\"3\" onChange={handleChecked} />\r\n          </div>\r\n          <div className=\"checkbox-label\">\r\n            <label htmlFor=\"3\">3 пересадки</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './ticket.css';\r\n\r\nexport function Ticket(props) {\r\n  const { ticket } = props;\r\n  const { carrier, price, segments } = ticket;\r\n  const carrierUrl = `http://pics.avs.io/99/36/${carrier}.png`;\r\n  const segmentForward = segments[0];\r\n  const {\r\n    origin: originForward,\r\n    destination: destinationForward,\r\n    duration: durationForward,\r\n    stops: stopsForward,\r\n  } = segmentForward;\r\n  const segmentBack = segments[1];\r\n  const {\r\n    origin: originBack,\r\n    destination: destinationBack,\r\n    duration: durationBack,\r\n    stops: stopsBack,\r\n  } = segmentBack;\r\n\r\n  const displayPrice = (price) => {\r\n    let string = price.toString();\r\n    const length = string.length;\r\n    if (length > 3) {\r\n      string.split('');\r\n      const idx = length - 1 - 3;\r\n      const firstItems = string.slice(price[0], idx + 1);\r\n      const lastItems = string.slice(idx + 1, length + 1);\r\n      string = firstItems + ' ' + lastItems;\r\n      return string;\r\n    }\r\n    return string;\r\n  };\r\n  // console.log(ticket['segments'][0]['stops'].length);\r\n  const viewPrice = displayPrice(price);\r\n  return (\r\n    <div className=\"ticket-wrapper\">\r\n      <div className=\"ticket-header\">\r\n        <div className=\"ticket-header__price\">{viewPrice} Р</div>\r\n        <div className=\"ticket-header__logo\">\r\n          <img src={carrierUrl} alt=\"\"></img>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ticked-forward__container\">\r\n        <div className=\"ticket-forward__header\">\r\n          <div className=\"ticket-forward__header-route\">\r\n            <span className=\"ticket-forward__header-route--span\">\r\n              {originForward}-{destinationForward}\r\n            </span>\r\n          </div>\r\n          <div className=\"ticket-forward__header-length\">\r\n            <span className=\"ticket-forward__header-length--span\">В пути</span>\r\n          </div>\r\n          <div className=\"ticket-forward__header-stops\">\r\n            <span className=\"ticket-forward__header-stops--span\">\r\n              Пересадки {stopsForward.length}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"ticket-forward__value\">\r\n          <div className=\"ticket-forward__value-route\">\r\n            <span className=\"ticket-forward__value-route--span\">10:45-18:00</span>\r\n          </div>\r\n          <div className=\"ticket-forward__value-length\">\r\n            <span className=\"ticket-forward__value-length--span\">{durationForward}</span>\r\n          </div>\r\n          <div className=\"ticket-forward__value-stops\">\r\n            <span className=\"ticket-forward__value-stops--span\">{stopsForward.join(' ')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ticked-back-container\">\r\n        <div className=\"ticket-back__header\">\r\n          <div className=\"ticket-back__header-route\">\r\n            <span className=\"ticket-back__header-route--span\">\r\n              {originBack}-{destinationBack}\r\n            </span>\r\n          </div>\r\n          <div className=\"ticket-back__header-length\">\r\n            <span className=\"ticket-back__header-length--span\">В пути</span>\r\n          </div>\r\n          <div className=\"ticket-back__header-stops\">\r\n            <span className=\"ticket-back__header-stops--span\">Пересадки {stopsBack.length}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"ticket-back__value\">\r\n          <div className=\"ticket-back__value-route\">\r\n            <span className=\"ticket-back__value-route--span\">10:45-18:00</span>\r\n          </div>\r\n          <div className=\"ticket-back__value-length\">\r\n            <span className=\"ticket-back__value-length--span\">{durationBack}</span>\r\n          </div>\r\n          <div className=\"ticket-back__value-stops\">\r\n            <span className=\"ticket-back__value-stops--span\">{stopsBack.join(' ')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { uniqueId } from 'lodash';\r\nimport './main_window.css';\r\nimport { Ticket } from '../ticket/ticket';\r\n\r\nexport default function MainWindow(props) {\r\n  const { displayTickets, handleSortByPrice, handleSortByDuration } = props;\r\n  if (displayTickets === 0) {\r\n    return <div>Билетов не найдено</div>;\r\n  }\r\n  const listTickets = displayTickets.map((item) => {\r\n    return <Ticket key={uniqueId()} ticket={item} />;\r\n  });\r\n  return (\r\n    <div className=\"main-window__wrapper\">\r\n      <div className=\"main-window__btn-container\">\r\n        <div>\r\n          <button className=\"btn btn-left btn-active\" onClick={handleSortByPrice}>\r\n            Самый дешевый\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <button className=\"btn btn-right\" onClick={handleSortByDuration}>\r\n            Самый быстрый\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"main-window__tickets-container\">{listTickets}</div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport { getSearchIdUrl as baseUrlSearchId } from './paths.js';\r\nimport { getTicketsUrl as baseUrlForTickets } from './paths.js';\r\n\r\nexport const getSearchId = () =>\r\n  axios\r\n    .get(baseUrlSearchId)\r\n    .then((response) => {\r\n      return response.data.searchId;\r\n    })\r\n    .catch((error) => console.log(error));\r\n\r\nexport const getOnePackTickets = (id) => {\r\n  const getTicketsUrl = baseUrlForTickets + id;\r\n  let response = axios\r\n    .get(getTicketsUrl)\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      return;\r\n    });\r\n  return response;\r\n};\r\n\r\nexport function sortByPrice(array) {\r\n  const result = array.sort(function (ticketA, ticketB) {\r\n    const priceA = ticketA['price'],\r\n      priceB = ticketB['price'];\r\n    if (priceA < priceB) {\r\n      return -1;\r\n    } else if (priceA > priceB) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function sortByDuration(array) {\r\n  const result = array.sort(function (ticketA, ticketB) {\r\n    const durationA = ticketA['segments'][0]['duration'] + ticketA['segments'][1]['duration'],\r\n      durationB = ticketB['segments'][0]['duration'] + ticketB['segments'][1]['duration'];\r\n    if (durationA < durationB) {\r\n      return -1;\r\n    } else if (durationA > durationB) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function toggleClassBtnActive(event) {\r\n  if (!event.currentTarget.classList.contains('btn-active')) {\r\n    const btns = document.querySelectorAll('button');\r\n    for (var i = 0; i < btns.length; i++) {\r\n      btns[i].classList.toggle('btn-active');\r\n    }\r\n  }\r\n}\r\n","export const getSearchIdUrl = 'https://front-test.beta.aviasales.ru/search'; // получение searchId\r\nexport const getTicketsUrl = 'https://front-test.beta.aviasales.ru/tickets?searchId='; //получение пачки билетов","import React from 'react';\r\nimport './app.css';\r\nimport Header from './components/header/header';\r\nimport FilterTransfers from './components/filter_transfers/flter_transfers';\r\nimport MainWindow from './components/main_window/main_window';\r\nimport {\r\n  getSearchId,\r\n  getOnePackTickets,\r\n  sortByPrice,\r\n  sortByDuration,\r\n  toggleClassBtnActive,\r\n} from './utils/request';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    tickets: [],\r\n    displayTickets: [],\r\n    numberOfDisplayed: 50,\r\n    filterStops: [1, 2],\r\n  };\r\n\r\n  processingAllTickets = () => {\r\n    getSearchId().then((id) => {\r\n      this.getAllTickets(id);\r\n    });\r\n  };\r\n\r\n  getAllTickets = (id) => {\r\n    getOnePackTickets(id).then((response) => {\r\n      if (!response) {\r\n        this.getAllTickets(id);\r\n      } else {\r\n        const { stop, tickets } = response;\r\n        if (stop === false) {\r\n          this.proccesingCurrenthPack(tickets);\r\n          this.moveItemsToDisplayTickets();\r\n          this.getAllTickets(id);\r\n        } else if (stop === true) {\r\n          this.proccesingCurrenthPack(tickets);\r\n          this.filterStops();\r\n          console.log(\r\n            'Стоп! Кончились билеты. Всего билетов получено: ',\r\n            this.state.tickets.length\r\n          );\r\n          return;\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  proccesingCurrenthPack = (tickets) => {\r\n    const oldValue = this.state.tickets;\r\n    console.log('Получаем пачку. Количество билетов: ', tickets.length);\r\n    const newValue = [...oldValue, ...tickets];\r\n    sortByPrice(newValue);\r\n    this.setState({\r\n      tickets: newValue,\r\n    });\r\n  };\r\n\r\n  moveItemsToDisplayTickets = (array = this.state.tickets) => {\r\n    const { numberOfDisplayed } = this.state;\r\n    let newValue = [];\r\n    for (let i = 0; i < numberOfDisplayed; i++) {\r\n      newValue.push(array[i]);\r\n    }\r\n    this.setState({\r\n      displayTickets: newValue,\r\n    });\r\n  };\r\n\r\n  handleSortByPrice = (event) => {\r\n    toggleClassBtnActive(event);\r\n    const { tickets } = this.state;\r\n    sortByPrice(tickets);\r\n    this.filterStops();\r\n  };\r\n\r\n  handleSortByDuration = (event) => {\r\n    toggleClassBtnActive(event);\r\n    const { tickets } = this.state;\r\n    sortByDuration(tickets);\r\n    this.filterStops();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.processingAllTickets();\r\n  }\r\n\r\n  filterStops = () => {\r\n    console.log('Запускаем фильтр');\r\n    const { tickets, filterStops } = this.state;\r\n    let result = [];\r\n    for (let i = 0; i < filterStops.length; i += 1) {\r\n      result = result.concat(tickets.filter((item) => item['segments'][0]['stops'].length === filterStops[i]));\r\n    }\r\n    this.moveItemsToDisplayTickets(result);\r\n    return;\r\n  };\r\n\r\n  render() {\r\n    const { displayTickets } = this.state;\r\n\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <div className=\"app\">\r\n          <div className=\"header\">\r\n            <Header />\r\n          </div>\r\n          <div className=\"main\">\r\n            <div className=\"left-aside\">\r\n              <FilterTransfers />\r\n            </div>\r\n            <div className=\"right-aside\">\r\n              <MainWindow\r\n                displayTickets={displayTickets}\r\n                handleSortByPrice={this.handleSortByPrice}\r\n                handleSortByDuration={this.handleSortByDuration}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}