{"version":3,"sources":["components/header/header.jsx","components/filterStops/flterStops.jsx","components/numberOfTicketsPanel/numberOfTicketsPanel.jsx","components/sortingPanel/sortingPanel.jsx","utils/utils.js","utils/paths.js","components/listTickets/ticket.jsx","components/listTickets/listTickets.jsx","components/listTickets/noTickets.jsx","components/currencyPanel/currencyPanel.jsx","app.js","components/errorBoundary/errorBoundary.jsx","index.js"],"names":["Header","className","FilterStops","props","handleFilter","stopsData","type","id","onChange","checked","all","noStops","oneStop","twoStops","threeStops","NumberOfTicketsPanel","handleChange","numberOfDisplayed","name","htmlFor","sortingPanel","handleSortByPrice","handleSortByDuration","onClick","getSearchId","axios","get","then","response","data","searchId","catch","error","console","log","getOnePackTickets","getTicketsUrl","sortByPrice","array","sort","ticketA","ticketB","priceA","priceB","sortByDuration","durationA","durationB","toggleClassBtnActive","event","currentTarget","classList","contains","btns","document","querySelectorAll","i","length","toggle","getCurrencyFromCB","getStopsNumber","stops","StopNumber","1","2","3","0","key","Number","displayTime","time","hour","Math","floor","minutes","Ticket","ticket","currencyExchange","currencyDisplayed","carrier","segments","price","usd","eur","carrierUrl","segmentForward","originForward","origin","destinationForward","destination","durationForward","duration","stopsForward","segmentBack","originBack","destinationBack","durationBack","stopsBack","round","viewTimeForward","viewTimeBack","viewPrice","string","toString","split","idx","firstItems","slice","lastItems","displayPrice","viewCurrency","currency","RUB","USD","EUR","displayCurremcySymbol","viewStopsForward","viewStopsBack","src","alt","join","ListTickets","displayTickets","map","item","uniqueId","NoTickets","CurrencyPanel","handleChangeCurrency","date","displayDate","hours","getHours","getMinutes","day","getDate","month","getMonth","year","getFullYear","viewDate","Date","App","state","tickets","processingAllTickets","getAllTickets","stop","proccesingCurrenthPack","moveItemsToDisplayTickets","oldValue","newValue","filterByStops","setState","getCurrency","Valute","Value","push","handleChangeNumberOfDisplated","theStop","newStops","stopsStatus","stopsStateChange","stopFilter","arrayForFilter","currentStopsState","stopsCount","checkArr","result","filter","arr","elem","this","React","Component","ErrorBoundary","hasError","children","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5eda9879.chunk.js","sourcesContent":["import React from 'react';\r\nimport './header.css';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"header-wrapper\">\r\n      <div className=\"logo\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './filterStops.css';\r\n\r\nexport default function FilterStops(props) {\r\n  const { handleFilter, stopsData } = props;\r\n  return (\r\n    <form className=\"form-checkbox\">\r\n      <div className=\"inputs-block\">\r\n        <div className=\"checkbox-heading\">Количество пересадок</div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"all\"\r\n              onChange={handleFilter}\r\n              checked={stopsData.all}\r\n            />\r\n            <span className=\"checkbox__box\"></span>\r\n            Все\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"noStops\"\r\n              onChange={handleFilter}\r\n              checked={stopsData.noStops}\r\n            />\r\n            <span className=\"checkbox__box\"></span>\r\n            Без пересадок\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"oneStop\"\r\n              onChange={handleFilter}\r\n              checked={stopsData.oneStop}\r\n            />\r\n            <span className=\"checkbox__box\"></span>1 пересадка\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"twoStops\"\r\n              onChange={handleFilter}\r\n              checked={stopsData.twoStops}\r\n            />\r\n            <span className=\"checkbox__box\"></span>2 пересадки\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"threeStops\"\r\n              onChange={handleFilter}\r\n              checked={stopsData.threeStops}\r\n            />\r\n            <span className=\"checkbox__box\"></span>3 пересадки\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './numberOfTicketsPanel.css';\r\n\r\nexport default function NumberOfTicketsPanel(props) {\r\n  const { handleChange, numberOfDisplayed } = props;\r\n  return (\r\n    <div className=\"number-panel-wrapper\">\r\n      <h1 className=\"title\">Количество билетов для показа: </h1>\r\n\r\n      <div className=\"number-panel__inputs-block\">\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"numberOfTickets\"\r\n            id=\"5\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChange}\r\n            checked={numberOfDisplayed === 5}\r\n          />\r\n          <label htmlFor=\"5\" className=\"radiobox__label first-child\">\r\n            5\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"numberOfTickets\"\r\n            id=\"10\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChange}\r\n            checked={numberOfDisplayed === 10}\r\n          />\r\n          <label htmlFor=\"10\" className=\"radiobox__label\">\r\n            10\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"numberOfTickets\"\r\n            id=\"15\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChange}\r\n            checked={numberOfDisplayed === 15}\r\n          />\r\n          <label htmlFor=\"15\" className=\"radiobox__label\">\r\n            15\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"numberOfTickets\"\r\n            id=\"50\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChange}\r\n            checked={numberOfDisplayed === 50}\r\n          />\r\n          <label htmlFor=\"50\" className=\"radiobox__label last-child\">\r\n            50\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './sortingPanel.css';\r\n\r\nexport default function sortingPanel(props) {\r\n  const { handleSortByPrice, handleSortByDuration } = props;\r\n  return (\r\n    <div className=\"main-window__wrapper\">\r\n      <div className=\"main-window__btn-container\">\r\n        <div>\r\n          <button className=\"btn btn-left btn-active\" onClick={handleSortByPrice}>\r\n            Самый дешевый\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <button className=\"btn btn-right\" onClick={handleSortByDuration}>\r\n            Самый быстрый\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport { getSearchIdUrl as baseUrlSearchId } from './paths.js';\r\nimport { getTicketsUrl as baseUrlForTickets } from './paths.js';\r\nimport { cbCurrencyUrl } from './paths.js';\r\n\r\nexport const getSearchId = () =>\r\n  axios\r\n    .get(baseUrlSearchId)\r\n    .then((response) => {\r\n      return response.data.searchId;\r\n    })\r\n    .catch((error) => console.log(error));\r\n\r\nexport const getOnePackTickets = (id) => {\r\n  const getTicketsUrl = baseUrlForTickets + id;\r\n  let response = axios\r\n    .get(getTicketsUrl)\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      return;\r\n    });\r\n  return response;\r\n};\r\n\r\nexport function sortByPrice(array) {\r\n  const result = array.sort(function (ticketA, ticketB) {\r\n    const priceA = ticketA['price'],\r\n      priceB = ticketB['price'];\r\n    if (priceA < priceB) {\r\n      return -1;\r\n    } else if (priceA > priceB) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function sortByDuration(array) {\r\n  const result = array.sort(function (ticketA, ticketB) {\r\n    const durationA = ticketA['segments'][0]['duration'] + ticketA['segments'][1]['duration'],\r\n      durationB = ticketB['segments'][0]['duration'] + ticketB['segments'][1]['duration'];\r\n    if (durationA < durationB) {\r\n      return -1;\r\n    } else if (durationA > durationB) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function toggleClassBtnActive(event) {\r\n  if (!event.currentTarget.classList.contains('btn-active')) {\r\n    const btns = document.querySelectorAll('button');\r\n    for (var i = 0; i < btns.length; i++) {\r\n      btns[i].classList.toggle('btn-active');\r\n    }\r\n  }\r\n}\r\n\r\nexport function getCurrencyFromCB() {\r\n  return axios.get(cbCurrencyUrl);\r\n}\r\n\r\nexport const displayCurremcySymbol = (currency) => {\r\n  const StopNumber = {\r\n    RUB: 'Р',\r\n    USD: '$',\r\n    EUR: '€',\r\n  };\r\n  for (let key in StopNumber) {\r\n    if (key === currency) {\r\n      return StopNumber[key];\r\n    }\r\n  }\r\n};\r\n\r\nexport const displayPrice = (price) => {\r\n  let string = price.toString();\r\n  const length = string.length;\r\n  if (length > 3) {\r\n    string.split('');\r\n    const idx = length - 1 - 3;\r\n    const firstItems = string.slice(price[0], idx + 1);\r\n    const lastItems = string.slice(idx + 1, length + 1);\r\n    string = firstItems + ' ' + lastItems;\r\n    return string;\r\n  }\r\n  return string;\r\n};\r\n\r\nexport const getStopsNumber = (stops) => {\r\n  const StopNumber = {\r\n    1: '1 пересадка',\r\n    2: '2 пересадки',\r\n    3: '3 пересадки',\r\n    0: 'без пересадок',\r\n  };\r\n  for (let key in StopNumber) {\r\n    if (Number(key) === stops) {\r\n      return StopNumber[key];\r\n    }\r\n  }\r\n};\r\n\r\nexport function displayTime(time) {\r\n  const hour = Math.floor(time / 60);\r\n  const minutes = time % 60;\r\n  return `${hour}ч ${minutes}м `;\r\n}\r\n","export const getSearchIdUrl = 'https://front-test.beta.aviasales.ru/search'; // получение searchId\r\nexport const getTicketsUrl = 'https://front-test.beta.aviasales.ru/tickets?searchId='; //получение пачки билетов\r\nexport const cbCurrencyUrl = 'https://www.cbr-xml-daily.ru/daily_json.js'; // ЦБ получение курса валют\r\n","import React from 'react';\r\nimport {\r\n  getStopsNumber,\r\n  displayPrice,\r\n  displayTime,\r\n  displayCurremcySymbol,\r\n} from '../../utils/utils';\r\nimport './ticket.css';\r\n\r\nexport default function Ticket(props) {\r\n  const { ticket, currencyExchange, currencyDisplayed } = props;\r\n  if (!ticket) {\r\n    return <div></div>;\r\n  }\r\n  const { carrier, segments } = ticket;\r\n  let { price } = ticket;\r\n  const { usd, eur } = currencyExchange;\r\n  const carrierUrl = `http://pics.avs.io/99/36/${carrier}.png`;\r\n  const segmentForward = segments[0];\r\n  const {\r\n    origin: originForward,\r\n    destination: destinationForward,\r\n    duration: durationForward,\r\n    stops: stopsForward,\r\n  } = segmentForward;\r\n  const segmentBack = segments[1];\r\n  const {\r\n    origin: originBack,\r\n    destination: destinationBack,\r\n    duration: durationBack,\r\n    stops: stopsBack,\r\n  } = segmentBack;\r\n\r\n  if (currencyDisplayed === 'USD') {\r\n    price = Math.round(price / usd);\r\n  } else if (currencyDisplayed === 'EUR') {\r\n    price = Math.round(price / eur);\r\n  }\r\n\r\n  const viewTimeForward = displayTime(durationForward);\r\n  const viewTimeBack = displayTime(durationBack);\r\n  const viewPrice = displayPrice(price);\r\n  const viewCurrency = displayCurremcySymbol(currencyDisplayed);\r\n  const viewStopsForward = getStopsNumber(stopsForward.length);\r\n  const viewStopsBack = getStopsNumber(stopsBack.length);\r\n\r\n  return (\r\n    <div className=\"ticket-wrapper\">\r\n      <div className=\"ticket-header\">\r\n        <div className=\"ticket-header__price\">\r\n          {viewPrice} {viewCurrency}\r\n        </div>\r\n        <div className=\"ticket-header__logo\">\r\n          <img src={carrierUrl} alt=\"\"></img>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ticked-forward__container\">\r\n        <div className=\"ticket-forward__header\">\r\n          <div className=\"ticket-forward__header-route\">\r\n            <span className=\"ticket-forward__header-route--span\">\r\n              {originForward} - {destinationForward}\r\n            </span>\r\n          </div>\r\n          <div className=\"ticket-forward__header-length\">\r\n            <span className=\"ticket-forward__header-length--span\">В пути</span>\r\n          </div>\r\n          <div className=\"ticket-forward__header-stops\">\r\n            <span className=\"ticket-forward__header-stops--span\">{viewStopsForward}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"ticket-forward__value\">\r\n          <div className=\"ticket-forward__value-route\">\r\n            <span className=\"ticket-forward__value-route--span\">10:45-18:00</span>\r\n          </div>\r\n          <div className=\"ticket-forward__value-length\">\r\n            <span className=\"ticket-forward__value-length--span\">{viewTimeForward}</span>\r\n          </div>\r\n          <div className=\"ticket-forward__value-stops\">\r\n            <span className=\"ticket-forward__value-stops--span\">{stopsForward.join(' ')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ticked-back-container\">\r\n        <div className=\"ticket-back__header\">\r\n          <div className=\"ticket-back__header-route\">\r\n            <span className=\"ticket-back__header-route--span\">\r\n              {destinationBack} - {originBack}\r\n            </span>\r\n          </div>\r\n          <div className=\"ticket-back__header-length\">\r\n            <span className=\"ticket-back__header-length--span\">В пути</span>\r\n          </div>\r\n          <div className=\"ticket-back__header-stops\">\r\n            <span className=\"ticket-back__header-stops--span\">{viewStopsBack}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"ticket-back__value\">\r\n          <div className=\"ticket-back__value-route\">\r\n            <span className=\"ticket-back__value-route--span\">10:45-18:00</span>\r\n          </div>\r\n          <div className=\"ticket-back__value-length\">\r\n            <span className=\"ticket-back__value-length--span\">{viewTimeBack}</span>\r\n          </div>\r\n          <div className=\"ticket-back__value-stops\">\r\n            <span className=\"ticket-back__value-stops--span\">{stopsBack.join(' ')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Ticket from './ticket';\r\nimport { uniqueId } from 'lodash';\r\n\r\nexport function ListTickets(props) {\r\n  const { displayTickets, currencyExchange, currencyDisplayed } = props;\r\n\r\n  return displayTickets.map((item) => {\r\n    return (\r\n      <Ticket\r\n        key={uniqueId()}\r\n        ticket={item}\r\n        currencyExchange={currencyExchange}\r\n        currencyDisplayed={currencyDisplayed}\r\n      />\r\n    );\r\n  });\r\n}\r\n","import React from 'react';\r\nimport './noTickets.css';\r\n\r\nexport default function NoTickets() {\r\n  return <div className=\"wrapper\">Билетов не найдено</div>;\r\n}\r\n","import React from 'react';\r\nimport './currencyPanel.css';\r\n\r\nexport default function CurrencyPanel(props) {\r\n  const { currencyExchange, currencyDisplayed, handleChangeCurrency } = props;\r\n  const { date, usd, eur } = currencyExchange;\r\n\r\n  function viewDate(date) {\r\n    const hours = date.getHours();\r\n    const minutes = date.getMinutes();\r\n    const day = date.getDate();\r\n    const month = date.getMonth();\r\n    const year = date.getFullYear();\r\n    const arr = [\r\n      'Январь',\r\n      'Февраль',\r\n      'Март',\r\n      'Апрель',\r\n      'Май',\r\n      'Июнь',\r\n      'Июль',\r\n      'Август',\r\n      'Сентябрь',\r\n      'Ноябрь',\r\n      'Декабрь',\r\n    ];\r\n    const result = hours + ':' + minutes + ' ' + day + ' ' + arr[month] + ' ' + year;\r\n    return result;\r\n  }\r\n\r\n  const date1 = new Date(date);\r\n  const displayDate = viewDate(date1);\r\n  return (\r\n    <div className=\"currencyPanel-wrapper\">\r\n      <span className=\"currencyPanel-heading\">Курс ЦБ по состоянию на: {displayDate}</span>\r\n      <span className=\"currencyPanel-text\">USD: {usd}</span>\r\n      <span className=\"currencyPanel-text\">EUR: {eur}</span>\r\n      <span className=\"currencyPanel-heading\">Показать стоимость в другой валюте:</span>\r\n      <div className=\"currencyPanel__inputs-block\">\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            id=\"RUB\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChangeCurrency}\r\n            checked={currencyDisplayed === 'RUB'}\r\n          />\r\n          <label htmlFor=\"RUB\" className=\"radiobox__label first-child\">\r\n            RUB\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            id=\"USD\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChangeCurrency}\r\n            checked={currencyDisplayed === 'USD'}\r\n          />\r\n          <label htmlFor=\"USD\" className=\"radiobox__label\">\r\n            USD\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            id=\"EUR\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChangeCurrency}\r\n            checked={currencyDisplayed === 'EUR'}\r\n          />\r\n          <label htmlFor=\"EUR\" className=\"radiobox__label last-child\">\r\n            EUR\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './app.css';\r\nimport Header from './components/header/header';\r\nimport FilterStops from './components/filterStops/flterStops';\r\nimport NumberOfTicketsPanel from './components/numberOfTicketsPanel/numberOfTicketsPanel';\r\nimport SortingPanel from './components/sortingPanel/sortingPanel';\r\nimport { ListTickets } from './components/listTickets/listTickets';\r\nimport NoTickets from './components/listTickets/noTickets';\r\nimport CurrencyPanel from './components/currencyPanel/currencyPanel';\r\nimport {\r\n  getSearchId,\r\n  getOnePackTickets,\r\n  sortByPrice,\r\n  sortByDuration,\r\n  toggleClassBtnActive,\r\n  getCurrencyFromCB,\r\n} from './utils/utils';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    tickets: [],\r\n    displayTickets: [],\r\n    numberOfDisplayed: 5,\r\n    stops: {\r\n      all: true,\r\n      noStops: true,\r\n      oneStop: true,\r\n      twoStops: true,\r\n      threeStops: true,\r\n    },\r\n    currencyExchange: {},\r\n    currencyDisplayed: 'RUB',\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.processingAllTickets();\r\n    this.getCurrency();\r\n  }\r\n\r\n  processingAllTickets = () => {\r\n    getSearchId().then((id) => {\r\n      this.getAllTickets(id);\r\n    });\r\n  };\r\n\r\n  getAllTickets = (id) => {\r\n    getOnePackTickets(id).then((response) => {\r\n      if (!response) {\r\n        this.getAllTickets(id);\r\n      } else {\r\n        const { stop, tickets } = response;\r\n        if (stop === false) {\r\n          this.proccesingCurrenthPack(tickets);\r\n          this.moveItemsToDisplayTickets();\r\n          this.getAllTickets(id);\r\n        } else if (stop === true) {\r\n          this.proccesingCurrenthPack(tickets);\r\n          console.log(\r\n            'Стоп! Кончились билеты. Всего билетов получено: ',\r\n            this.state.tickets.length\r\n          );\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  proccesingCurrenthPack = (tickets) => {\r\n    const oldValue = this.state.tickets;\r\n    console.log('Получаем пачку. Количество билетов: ', tickets.length);\r\n    const newValue = [...oldValue, ...tickets];\r\n    this.filterByStops();\r\n    sortByPrice(newValue);\r\n    this.setState({\r\n      tickets: newValue,\r\n    });\r\n  };\r\n\r\n  getCurrency = () => {\r\n    getCurrencyFromCB().then((response) => {\r\n      const currencyDate = response.data.Date;\r\n      const usd = response.data.Valute.USD.Value;\r\n      const eur = response.data.Valute.EUR.Value;\r\n      const currencyExchange = { date: currencyDate, usd, eur };\r\n      this.setState({\r\n        currencyExchange,\r\n      });\r\n    });\r\n  };\r\n\r\n  moveItemsToDisplayTickets = (array = this.state.tickets) => {\r\n    const { numberOfDisplayed } = this.state;\r\n    let newValue = [];\r\n    for (let i = 0; i < numberOfDisplayed; i++) {\r\n      if (array[i]) {\r\n        newValue.push(array[i]);\r\n      }\r\n    }\r\n    this.setState({\r\n      displayTickets: newValue,\r\n    });\r\n  };\r\n\r\n  handleChangeNumberOfDisplated = (event) => {\r\n    const id = Number(event.currentTarget.id);\r\n    this.setState(\r\n      {\r\n        numberOfDisplayed: id,\r\n      },\r\n      () => {\r\n        this.filterByStops();\r\n      }\r\n    );\r\n  };\r\n\r\n  handleChangeCurrency = (event) => {\r\n    const id = event.currentTarget.id;\r\n    this.setState(\r\n      {\r\n        currencyDisplayed: id,\r\n      },\r\n      () => {\r\n        this.filterByStops();\r\n      }\r\n    );\r\n  };\r\n\r\n  handleSortByPrice = (event) => {\r\n    toggleClassBtnActive(event);\r\n    const { tickets } = this.state;\r\n    sortByPrice(tickets);\r\n    this.filterByStops();\r\n  };\r\n\r\n  handleSortByDuration = (event) => {\r\n    toggleClassBtnActive(event);\r\n    const { tickets } = this.state;\r\n    sortByDuration(tickets);\r\n    this.filterByStops();\r\n  };\r\n\r\n  handleFilter = (event) => {\r\n    const theStop = event.currentTarget.id;\r\n    const { stops, tickets } = this.state;\r\n    const { all, noStops, oneStop, twoStops, threeStops } = stops;\r\n\r\n    const stopsStateChange = (theStop) => {\r\n      if (theStop === 'all' && all === false) {\r\n        return {\r\n          ...stops,\r\n          all: true,\r\n          noStops: true,\r\n          oneStop: true,\r\n          twoStops: true,\r\n          threeStops: true,\r\n        };\r\n      }\r\n\r\n      const stopsStatus = {\r\n        noStops: { ...stops, noStops: !noStops, all: false },\r\n        oneStop: { ...stops, oneStop: !oneStop, all: false },\r\n        twoStops: { ...stops, twoStops: !twoStops, all: false },\r\n        threeStops: { ...stops, threeStops: !threeStops, all: false },\r\n        all: {\r\n          ...stops,\r\n          all: false,\r\n          noStops: false,\r\n          oneStop: false,\r\n          twoStops: false,\r\n          threeStops: false,\r\n        },\r\n      };\r\n\r\n      for (let key in stopsStatus) {\r\n        if (key === theStop) {\r\n          return stopsStatus[key];\r\n        }\r\n      }\r\n    };\r\n\r\n    let newStops = stopsStateChange(theStop);\r\n\r\n    if (\r\n      newStops.all === false &&\r\n      newStops.noStops === true &&\r\n      newStops.oneStop === true &&\r\n      newStops.twoStops === true &&\r\n      newStops.threeStops === true\r\n    ) {\r\n      newStops = {\r\n        ...stops,\r\n        all: true,\r\n        noStops: true,\r\n        oneStop: true,\r\n        twoStops: true,\r\n        threeStops: true,\r\n      };\r\n    }\r\n    this.setState({ stops: newStops }, () => {\r\n      sortByDuration(tickets);\r\n      this.filterByStops();\r\n    });\r\n  };\r\n\r\n  stopFilter = () => {\r\n    let arrayForFilter = [];\r\n    const currentStopsState = this.state.stops;\r\n    for (let key in currentStopsState) {\r\n      if (currentStopsState[key] === true) {\r\n        arrayForFilter = [...arrayForFilter, key];\r\n      }\r\n    }\r\n    const stopsCount = {\r\n      noStops: 0,\r\n      oneStop: 1,\r\n      twoStops: 2,\r\n      threeStops: 3,\r\n    };\r\n    arrayForFilter = arrayForFilter.map((item) => stopsCount[item]);\r\n    return arrayForFilter;\r\n  };\r\n\r\n  filterByStops = () => {\r\n    const { tickets } = this.state;\r\n    const checkArr = this.stopFilter();\r\n\r\n    function contains(arr, elem) {\r\n      for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i] === elem) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    const result = tickets.filter((item) => contains(checkArr, item['segments'][0].stops.length));\r\n    this.moveItemsToDisplayTickets(result);\r\n    return;\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      displayTickets,\r\n      stops,\r\n      numberOfDisplayed,\r\n      currencyExchange,\r\n      currencyDisplayed,\r\n    } = this.state;\r\n    const tickets = displayTickets.length ? (\r\n      <ListTickets\r\n        displayTickets={displayTickets}\r\n        currencyExchange={currencyExchange}\r\n        currencyDisplayed={currencyDisplayed}\r\n      />\r\n    ) : (\r\n      <NoTickets />\r\n    );\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <div className=\"header\">\r\n          <Header />\r\n        </div>\r\n        <div className=\"main\">\r\n          <div className=\"left-aside\">\r\n            <FilterStops handleFilter={this.handleFilter} stopsData={stops} />\r\n            <NumberOfTicketsPanel\r\n              handleChange={this.handleChangeNumberOfDisplated}\r\n              numberOfDisplayed={numberOfDisplayed}\r\n            />\r\n            <CurrencyPanel\r\n              currencyExchange={currencyExchange}\r\n              currencyDisplayed={currencyDisplayed}\r\n              handleChangeCurrency={this.handleChangeCurrency}\r\n            />\r\n          </div>\r\n          <div className=\"right-aside\">\r\n            <SortingPanel\r\n              handleSortByPrice={this.handleSortByPrice}\r\n              handleSortByDuration={this.handleSortByDuration}\r\n            />\r\n            {tickets}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\n// import 'errorBoundary.css';\r\n\r\nexport class ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <h1>Что-то пошло не так. Скоро починим</h1>\r\n      )\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './app';\nimport { ErrorBoundary } from './components/errorBoundary/errorBoundary.jsx';\n\nReactDOM.render(\n  <ErrorBoundary>\n    <App />\n  </ErrorBoundary>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}