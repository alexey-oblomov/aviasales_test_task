{"version":3,"sources":["components/header/header.jsx","components/filterStops/flterStops.jsx","components/numberOfTicketsPanel/numberOfTicketsPanel.jsx","components/sortingPanel/sortingPanel.jsx","utils/utils.js","utils/paths.js","components/listTickets/ticket.jsx","components/listTickets/listTickets.jsx","components/listTickets/noTickets.jsx","components/currencyPanel/currencyPanel.jsx","app.js","components/errorBoundary/errorBoundary.jsx","index.js"],"names":["Header","className","FilterStops","props","handleChangeFilterStops","stopsData","type","id","onChange","checked","all","noStops","oneStop","twoStops","threeStops","NumberOfTicketsPanel","handleChange","numberOfDisplayed","totalTickets","name","htmlFor","SortingPanel","sortBy","getSearchId","axios","get","then","response","data","searchId","catch","error","console","log","getOnePackTickets","getTicketsUrl","sortByPrice","array","sort","ticketA","ticketB","priceA","priceB","sortByDuration","durationA","durationB","getCurrencyFromCB","getStopsNumber","stops","StopNumber","1","2","3","0","key","Number","displayTime","time","hour","Math","floor","minutes","Ticket","ticket","currencyData","currencyDisplayed","carrier","segments","price","usd","eur","carrierUrl","segmentForward","originForward","origin","destinationForward","destination","durationForward","duration","stopsForward","segmentBack","originBack","destinationBack","durationBack","stopsBack","round","viewTimeForward","viewTimeBack","viewPrice","string","toString","length","split","idx","firstItems","slice","lastItems","displayPrice","viewCurrency","currency","RUB","USD","EUR","displayCurremcySymbol","viewStopsForward","viewStopsBack","src","alt","join","ListTickets","displayTickets","map","item","uniqueId","proTypes","PropTypes","object","NoTickets","CurrencyPanel","handleChangeCurrency","date","displayDate","day","getDate","month","getMonth","year","getFullYear","viewDate","Date","roundUsd","toFixed","roundEur","App","state","tickets","processingAllTickets","getAllTickets","stop","proccesingCurrenthPack","moveItemsToDisplayTickets","newPackTickets","setState","updateTickets","getCurrency","Valute","Value","handleChangeNumberOfDisplated","event","currentTarget","handleChangeSort","sortTickets","filterByStops","theStop","newStops","stopsStatus","stopsStateChange","getArrayStopsFilter","arrayForFilter","currentStopsState","stopsCount","checkArr","result","filter","arr","elem","i","contains","newValue","push","this","listTickets","React","Component","ErrorBoundary","hasError","children","ReactDOM","render","document","getElementById"],"mappings":"0bAGe,SAASA,IACtB,OACE,yBAAKC,UAAU,kBACb,yBAAKA,UAAU,U,MCFN,SAASC,EAAYC,GAAQ,IAClCC,EAAuCD,EAAvCC,wBAAyBC,EAAcF,EAAdE,UACjC,OACE,0BAAMJ,UAAU,iBACd,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,oBAAf,uHAEA,yBAAKA,UAAU,YACb,2BAAOA,UAAU,mBACf,2BACEA,UAAU,kBACVK,KAAK,WACLC,GAAG,MACHC,SAAUJ,EACVK,QAASJ,EAAUK,MAErB,0BAAMT,UAAU,kBARlB,uBAaF,yBAAKA,UAAU,YACb,2BAAOA,UAAU,mBACf,2BACEA,UAAU,kBACVK,KAAK,WACLC,GAAG,UACHC,SAAUJ,EACVK,QAASJ,EAAUM,UAErB,0BAAMV,UAAU,kBARlB,8EAaF,yBAAKA,UAAU,YACb,2BAAOA,UAAU,mBACf,2BACEA,UAAU,kBACVK,KAAK,WACLC,GAAG,UACHC,SAAUJ,EACVK,QAASJ,EAAUO,UAErB,0BAAMX,UAAU,kBARlB,6DAYF,yBAAKA,UAAU,YACb,2BAAOA,UAAU,mBACf,2BACEA,UAAU,kBACVK,KAAK,WACLC,GAAG,WACHC,SAAUJ,EACVK,QAASJ,EAAUQ,WAErB,0BAAMZ,UAAU,kBARlB,6DAYF,yBAAKA,UAAU,YACb,2BAAOA,UAAU,mBACf,2BACEA,UAAU,kBACVK,KAAK,WACLC,GAAG,aACHC,SAAUJ,EACVK,QAASJ,EAAUS,aAErB,0BAAMb,UAAU,kBARlB,+D,MC9DK,SAASc,EAAqBZ,GAAQ,IAC3Ca,EAAkDb,EAAlDa,aAAcC,EAAoCd,EAApCc,kBAAmBC,EAAiBf,EAAjBe,aACzC,OACE,yBAAKjB,UAAU,wBACb,wBAAIA,UAAU,SAAd,kMAEE,0BAAMA,UAAU,qBAAqBiB,IAGvC,wBAAIjB,UAAU,SAAd,qKAEA,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLa,KAAK,kBACLZ,GAAG,IACHN,UAAU,kBACVO,SAAUQ,EACVP,QAA+B,IAAtBQ,IAEX,2BAAOG,QAAQ,IAAInB,UAAU,+BAA7B,MAKF,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLa,KAAK,kBACLZ,GAAG,KACHN,UAAU,kBACVO,SAAUQ,EACVP,QAA+B,KAAtBQ,IAEX,2BAAOG,QAAQ,KAAKnB,UAAU,mBAA9B,OAKF,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLa,KAAK,kBACLZ,GAAG,KACHN,UAAU,kBACVO,SAAUQ,EACVP,QAA+B,KAAtBQ,IAEX,2BAAOG,QAAQ,KAAKnB,UAAU,mBAA9B,OAKF,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLa,KAAK,kBACLZ,GAAG,KACHN,UAAU,kBACVO,SAAUQ,EACVP,QAA+B,KAAtBQ,IAEX,2BAAOG,QAAQ,KAAKnB,UAAU,8BAA9B,S,MC/DK,SAASoB,EAAalB,GAAQ,IACnCa,EAAyBb,EAAzBa,aAAcM,EAAWnB,EAAXmB,OAEtB,OACE,yBAAKrB,UAAU,+BACb,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLa,KAAK,aACLZ,GAAG,OACHN,UAAU,kBACVO,SAAUQ,EACVP,QAAoB,SAAXa,IAEX,2BAAOF,QAAQ,OAAOnB,UAAU,+BAC9B,6GAIJ,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLa,KAAK,iBACLZ,GAAG,WACHN,UAAU,kBACVO,SAAUQ,EACVP,QAAoB,aAAXa,IAEX,2BAAOF,QAAQ,WAAWnB,UAAU,8BAApC,+E,oCC3BKsB,EAAc,kBACzBC,IACGC,ICPyB,+CDQzBC,MAAK,SAACC,GACL,OAAOA,EAASC,KAAKC,YAEtBC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,OAErBG,EAAoB,SAAC3B,GAChC,IAAM4B,ECbqB,yDDae5B,EAS1C,OAReiB,IACZC,IAAIU,GACJT,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBE,OAAM,SAACC,QAML,SAASK,EAAYC,GAW1B,OAVeA,EAAMC,MAAK,SAAUC,EAASC,GAC3C,IAAMC,EAASF,EAAO,MACpBG,EAASF,EAAO,MAClB,OAAIC,EAASC,GACH,EACCD,EAASC,EACX,EAEF,KAKJ,SAASC,EAAeN,GAW7B,OAVeA,EAAMC,MAAK,SAAUC,EAASC,GAC3C,IAAMI,EAAYL,EAAO,SAAa,GAApB,SAAqCA,EAAO,SAAa,GAApB,SACrDM,EAAYL,EAAO,SAAa,GAApB,SAAqCA,EAAO,SAAa,GAApB,SACnD,OAAII,EAAYC,GACN,EACCD,EAAYC,EACd,EAEF,KAcJ,SAASC,IACd,OAAOtB,IAAMC,IC9Dc,8CDiEtB,IA2BMsB,EAAiB,SAACC,GAC7B,IAAMC,EAAa,CACjBC,EAAG,2DACHC,EAAG,2DACHC,EAAG,2DACHC,EAAG,6EAEL,IAAK,IAAIC,KAAOL,EACd,GAAIM,OAAOD,KAASN,EAClB,OAAOC,EAAWK,IAKjB,SAASE,EAAYC,GAC1B,IAAMC,EAAOC,KAAKC,MAAMH,EAAO,IACzBI,EAAUJ,EAAO,GACvB,MAAM,GAAN,OAAUC,EAAV,kBAAmBG,EAAnB,W,MErGa,SAASC,EAAO3D,GAAQ,IAC7B4D,EAA4C5D,EAA5C4D,OAAQC,EAAoC7D,EAApC6D,aAAcC,EAAsB9D,EAAtB8D,kBACtBC,EAAsBH,EAAtBG,QAASC,EAAaJ,EAAbI,SACXC,EAAUL,EAAVK,MACEC,EAAaL,EAAbK,IAAKC,EAAQN,EAARM,IACPC,EAAU,mCAA+BL,EAA/B,QACVM,EAAiBL,EAAS,GAEtBM,EAIND,EAJFE,OACaC,EAGXH,EAHFI,YACUC,EAERL,EAFFM,SACOC,EACLP,EADFxB,MAEIgC,EAAcb,EAAS,GAEnBc,EAIND,EAJFN,OACaQ,EAGXF,EAHFJ,YACUO,EAERH,EAFFF,SACOM,EACLJ,EADFhC,MAGwB,QAAtBiB,EACFG,EAAQT,KAAK0B,MAAMjB,EAAQC,GACI,QAAtBJ,IACTG,EAAQT,KAAK0B,MAAMjB,EAAQE,IAG7B,IAAMgB,EAAkB9B,EAAYqB,GAC9BU,EAAe/B,EAAY2B,GAC3BK,EFyCoB,SAACpB,GAC3B,IAAIqB,EAASrB,EAAMsB,WACbC,EAASF,EAAOE,OACtB,GAAIA,EAAS,EAAG,CACdF,EAAOG,MAAM,IACb,IAAMC,EAAMF,EAAS,EAAI,EACnBG,EAAaL,EAAOM,MAAM3B,EAAM,GAAIyB,EAAM,GAC1CG,EAAYP,EAAOM,MAAMF,EAAM,EAAGF,EAAS,GAEjD,OADAF,EAASK,EAAa,IAAME,EAG9B,OAAOP,EEpDWQ,CAAa7B,GACzB8B,EF2B6B,SAACC,GACpC,IAAMlD,EAAa,CACjBmD,IAAK,SACLC,IAAK,IACLC,IAAK,UAEP,IAAK,IAAIhD,KAAOL,EACd,GAAIK,IAAQ6C,EACV,OAAOlD,EAAWK,GEnCDiD,CAAsBtC,GACrCuC,EAAmBzD,EAAegC,EAAaY,QAC/Cc,EAAgB1D,EAAeqC,EAAUO,QAE/C,OACE,yBAAK1F,UAAU,kBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,wBACZuF,EADH,IACeU,GAEf,yBAAKjG,UAAU,uBACb,yBAAKyG,IAAKnC,EAAYoC,IAAI,OAI9B,yBAAK1G,UAAU,6BACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,gCACb,0BAAMA,UAAU,sCACbwE,EADH,MACqBE,IAGvB,yBAAK1E,UAAU,iCACb,0BAAMA,UAAU,uCAAhB,oCAEF,yBAAKA,UAAU,gCACb,0BAAMA,UAAU,sCAAsCuG,KAG1D,yBAAKvG,UAAU,yBACb,yBAAKA,UAAU,+BACb,0BAAMA,UAAU,qCAAhB,gBAEF,yBAAKA,UAAU,gCACb,0BAAMA,UAAU,sCAAsCqF,IAExD,yBAAKrF,UAAU,+BACb,0BAAMA,UAAU,qCAAqC8E,EAAa6B,KAAK,SAK7E,yBAAK3G,UAAU,yBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,mCACbiF,EADH,MACuBD,IAGzB,yBAAKhF,UAAU,8BACb,0BAAMA,UAAU,oCAAhB,oCAEF,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,mCAAmCwG,KAGvD,yBAAKxG,UAAU,sBACb,yBAAKA,UAAU,4BACb,0BAAMA,UAAU,kCAAhB,gBAEF,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,mCAAmCsF,IAErD,yBAAKtF,UAAU,4BACb,0BAAMA,UAAU,kCAAkCmF,EAAUwB,KAAK,U,YCnG9D,SAASC,EAAY1G,GAAQ,IAClC2G,EAAoD3G,EAApD2G,eAAgB9C,EAAoC7D,EAApC6D,aAAcC,EAAsB9D,EAAtB8D,kBAEtC,OAAO6C,EAAeC,KAAI,SAACC,GACzB,OACE,kBAAClD,EAAD,CACER,IAAK2D,qBACLlD,OAAQiD,EACRhD,aAAcA,EACdC,kBAAmBA,OAM3B4C,EAAYK,SAAW,CACrBJ,eAAgBK,IAAU9E,MAC1B2B,aAAcmD,IAAUC,OACxBnD,kBAAmBkD,IAAU1B,Q,MCpBhB,SAAS4B,IACtB,OAAO,yBAAKpH,UAAU,WAAf,sG,MCAM,SAASqH,EAAcnH,GAAQ,IACpC6D,EAA0D7D,EAA1D6D,aAAcC,EAA4C9D,EAA5C8D,kBAAmBsD,EAAyBpH,EAAzBoH,qBACjCC,EAAmBxD,EAAnBwD,KAAMnD,EAAaL,EAAbK,IAAKC,EAAQN,EAARM,IAEbmD,EL0GD,SAAkBD,GACvB,IAAME,EAAMF,EAAKG,UACXC,EAAQJ,EAAKK,WACbC,EAAON,EAAKO,cAclB,OAAOL,EAAM,IAbD,CACV,uCACA,6CACA,2BACA,uCACA,qBACA,2BACA,2BACA,uCACA,mDACA,uCACA,8CAEqBE,GAAS,IAAME,EK3HlBE,CAAS,IAAIC,KAAKT,IAChCU,EAAW3E,OAAOc,GAAK8D,QAAQ,GAC/BC,EAAW7E,OAAOe,GAAK6D,QAAQ,GAErC,OACE,yBAAKlI,UAAU,yBACb,yBAAKA,UAAU,yBAAf,0HAEE,6BAFF,IAEUwH,GAEV,yBAAKxH,UAAU,sBAAf,QAA0CiI,GAC1C,yBAAKjI,UAAU,sBAAf,QAA0CmI,GAC1C,yBAAKnI,UAAU,yBAAf,6LACA,yBAAKA,UAAU,+BACb,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLC,GAAG,MACHN,UAAU,kBACVO,SAAU+G,EACV9G,QAA+B,QAAtBwD,IAEX,2BAAO7C,QAAQ,MAAMnB,UAAU,+BAA/B,QAKF,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLC,GAAG,MACHN,UAAU,kBACVO,SAAU+G,EACV9G,QAA+B,QAAtBwD,IAEX,2BAAO7C,QAAQ,MAAMnB,UAAU,mBAA/B,QAKF,yBAAKA,UAAU,YACb,2BACEK,KAAK,QACLC,GAAG,MACHN,UAAU,kBACVO,SAAU+G,EACV9G,QAA+B,QAAtBwD,IAEX,2BAAO7C,QAAQ,MAAMnB,UAAU,8BAA/B,U,ICuOKoI,E,4MA7QbC,MAAQ,CACNC,QAAS,GACTzB,eAAgB,GAChB7F,kBAAmB,EACnB+B,MAAO,CACLtC,KAAK,EACLC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,YAAY,GAEdQ,OAAQ,OACR0C,aAAc,GACdC,kBAAmB,O,EAQrBuE,qBAAuB,WACrBjH,IAAcG,MAAK,SAACnB,GAClB,EAAKkI,cAAclI,O,EAIvBkI,cAAgB,SAAClI,GACf2B,EAAkB3B,GAAImB,MAAK,SAACC,GAC1B,GAAKA,EAEE,CAAC,IACE+G,EAAkB/G,EAAlB+G,KAAMH,EAAY5G,EAAZ4G,SACD,IAATG,GACF,EAAKC,uBAAuBJ,GAC5B,EAAKK,4BACL,EAAKH,cAAclI,KACD,IAATmI,GACT,EAAKC,uBAAuBJ,QAR9B,EAAKE,cAAclI,O,EAczBoI,uBAAyB,SAACE,GAAoB,IACpCN,EAAY,EAAKD,MAAjBC,QACR,EAAKO,SACH,CACEP,QAAQ,GAAD,mBAAMA,GAAN,YAAkBM,MAE3B,kBAAM,EAAKE,oB,EAIfC,YAAc,WACZlG,IAAoBpB,MAAK,SAACC,GACxB,IAGMqC,EAAe,CAAEwD,KAHF7F,EAASC,KAAKqG,KAGQ5D,IAF/B1C,EAASC,KAAKqH,OAAO5C,IAAI6C,MAEW5E,IADpC3C,EAASC,KAAKqH,OAAO3C,IAAI4C,OAErC,EAAKJ,SAAS,CACZ9E,qB,EAKNmF,8BAAgC,SAACC,GAC/B,IAAM7I,EAAKgD,OAAO6F,EAAMC,cAAc9I,IACtC,EAAKuI,SACH,CACE7H,kBAAmBV,IAErB,WACE,EAAKwI,oB,EAKXxB,qBAAuB,SAAC6B,GACtB,IAAM7I,EAAK6I,EAAMC,cAAc9I,GAC/B,EAAKuI,SACH,CACE7E,kBAAmB1D,IAErB,WACE,EAAKwI,oB,EAKXO,iBAAmB,SAACF,GAClB,IAAM7I,EAAK6I,EAAMC,cAAc9I,GAC/B,EAAKuI,SACH,CACExH,OAAQf,IAEV,kBAAM,EAAKgJ,kB,EAIfA,YAAc,WAAO,IAAD,EACU,EAAKjB,MAAzBC,EADU,EACVA,QACO,SAFG,EACDjH,OAEfc,EAAYmG,GAEZ5F,EAAe4F,GAEjB,EAAKiB,iB,EAGPT,cAAgB,WACd,EAAKQ,cACL,EAAKC,iB,EAGPpJ,wBAA0B,SAACgJ,GACzB,IAAMK,EAAUL,EAAMC,cAAc9I,GAC5ByC,EAAU,EAAKsF,MAAftF,MACAtC,EAAgDsC,EAAhDtC,IAAKC,EAA2CqC,EAA3CrC,QAASC,EAAkCoC,EAAlCpC,QAASC,EAAyBmC,EAAzBnC,SAAUC,EAAekC,EAAflC,WAkCrC4I,EAhCqB,SAACD,GACxB,GAAgB,QAAZA,IAA6B,IAAR/I,EACvB,OAAO,eACFsC,EADL,CAEEtC,KAAK,EACLC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,YAAY,IAGhB,IAAM6I,EAAc,CAClBhJ,QAAQ,eAAMqC,EAAP,CAAcrC,SAAUA,EAASD,KAAK,IAC7CE,QAAQ,eAAMoC,EAAP,CAAcpC,SAAUA,EAASF,KAAK,IAC7CG,SAAS,eAAMmC,EAAP,CAAcnC,UAAWA,EAAUH,KAAK,IAChDI,WAAW,eAAMkC,EAAP,CAAclC,YAAaA,EAAYJ,KAAK,IACtDA,IAAI,eACCsC,EADF,CAEDtC,KAAK,EACLC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,YAAY,KAGhB,IAAK,IAAIwC,KAAOqG,EACd,GAAIrG,IAAQmG,EACV,OAAOE,EAAYrG,GAKVsG,CAAiBH,IAGb,IAAjBC,EAAShJ,MACY,IAArBgJ,EAAS/I,UACY,IAArB+I,EAAS9I,UACa,IAAtB8I,EAAS7I,WACe,IAAxB6I,EAAS5I,aAET4I,EAAQ,eACH1G,EADG,CAENtC,KAAK,EACLC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,YAAY,KAGhB,EAAKgI,SAAS,CAAE9F,MAAO0G,IAAY,kBAAM,EAAKX,oB,EAGhDc,oBAAsB,WACpB,IAAIC,EAAiB,GACfC,EAAoB,EAAKzB,MAAMtF,MACrC,IAAK,IAAIM,KAAOyG,GACiB,IAA3BA,EAAkBzG,KACpBwG,EAAc,sBAAOA,GAAP,CAAuBxG,KAGzC,IAAM0G,EAAa,CACjBrJ,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,WAAY,GAEd,OAAOgJ,EAAe/C,KAAI,SAACC,GAAD,OAAUgD,EAAWhD,O,EAGjDwC,cAAgB,WAAO,IACbjB,EAAY,EAAKD,MAAjBC,QACF0B,EAAW,EAAKJ,sBAStB,IAAMK,EAAS3B,EAAQ4B,QAAO,SAACnD,GAAD,OAR9B,SAAkBoD,EAAKC,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAIzE,OAAQ2E,IAC9B,GAAIF,EAAIE,KAAOD,EACb,OAAO,EAGX,OAAO,EAE+BE,CAASN,EAAUjD,EAAI,SAAa,GAAGhE,MAAM2C,WACrF,EAAKiD,0BAA0BsB,I,EAGjCtB,0BAA4B,WAG1B,IAH2D,IAAhCvG,EAA+B,uDAAvB,EAAKiG,MAAMC,QACtCtH,EAAsB,EAAKqH,MAA3BrH,kBACJuJ,EAAW,GACNF,EAAI,EAAGA,EAAIrJ,EAAmBqJ,IACjCjI,EAAMiI,IACRE,EAASC,KAAKpI,EAAMiI,IAGxB,EAAKxB,SAAS,CACZhC,eAAgB0D,K,kEArMlBE,KAAKlC,uBACLkC,KAAK1B,gB,+BAwMG,IAAD,EASH0B,KAAKpC,MAPPC,EAFK,EAELA,QACAzB,EAHK,EAGLA,eACA9D,EAJK,EAILA,MACA1B,EALK,EAKLA,OACAL,EANK,EAMLA,kBACA+C,EAPK,EAOLA,aACAC,EARK,EAQLA,kBAEI/C,EAAeqH,EAAQ5C,OAEvBgF,EAAc7D,EAAenB,OACjC,kBAACkB,EAAD,CACEC,eAAgBA,EAChB9C,aAAcA,EACdC,kBAAmBA,IAGrB,kBAACoD,EAAD,MAGF,OACE,yBAAKpH,UAAU,OACb,yBAAKA,UAAU,UACb,kBAACD,EAAD,OAEF,yBAAKC,UAAU,QACb,yBAAKA,UAAU,cACb,kBAACC,EAAD,CAAaE,wBAAyBsK,KAAKtK,wBAAyBC,UAAW2C,IAC/E,kBAACjC,EAAD,CACEC,aAAc0J,KAAKvB,8BACnBlI,kBAAmBA,EACnBC,aAAcA,IAEhB,kBAACoG,EAAD,CACEtD,aAAcA,EACdC,kBAAmBA,EACnBsD,qBAAsBmD,KAAKnD,wBAG/B,yBAAKtH,UAAU,eACb,kBAACoB,EAAD,CAAcC,OAAQA,EAAQN,aAAc0J,KAAKpB,mBAChDqB,S,GAtQKC,IAAMC,WCdXC,EAAb,kDACE,WAAY3K,GAAQ,IAAD,8BACjB,cAAMA,IACDmI,MAAQ,CAAEyC,UAAU,GAFR,EADrB,qDAUI,OAAIL,KAAKpC,MAAMyC,SAEX,yMAGGL,KAAKvK,MAAM6K,YAftB,gDAKkCjJ,GAC9B,MAAO,CAAEgJ,UAAU,OANvB,GAAmCH,IAAMC,WCIzCI,IAASC,OACP,kBAAC,EAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.1bb4543b.chunk.js","sourcesContent":["import React from 'react';\r\nimport './header.css';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"header-wrapper\">\r\n      <div className=\"logo\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './filterStops.css';\r\n\r\nexport default function FilterStops(props) {\r\n  const { handleChangeFilterStops, stopsData } = props;\r\n  return (\r\n    <form className=\"form-checkbox\">\r\n      <div className=\"inputs-block\">\r\n        <div className=\"checkbox-heading\">Количество пересадок</div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"all\"\r\n              onChange={handleChangeFilterStops}\r\n              checked={stopsData.all}\r\n            />\r\n            <span className=\"checkbox__box\"></span>\r\n            Все\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"noStops\"\r\n              onChange={handleChangeFilterStops}\r\n              checked={stopsData.noStops}\r\n            />\r\n            <span className=\"checkbox__box\"></span>\r\n            Без пересадок\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"oneStop\"\r\n              onChange={handleChangeFilterStops}\r\n              checked={stopsData.oneStop}\r\n            />\r\n            <span className=\"checkbox__box\"></span>1 пересадка\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"twoStops\"\r\n              onChange={handleChangeFilterStops}\r\n              checked={stopsData.twoStops}\r\n            />\r\n            <span className=\"checkbox__box\"></span>2 пересадки\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"checkbox\">\r\n          <label className=\"checkbox__label\">\r\n            <input\r\n              className=\"checkbox__input\"\r\n              type=\"checkbox\"\r\n              id=\"threeStops\"\r\n              onChange={handleChangeFilterStops}\r\n              checked={stopsData.threeStops}\r\n            />\r\n            <span className=\"checkbox__box\"></span>3 пересадки\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nFilterStops.propTypes = {\r\n  stopsData: PropTypes.object,\r\n  handleChangeFilterStops: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './numberOfTicketsPanel.css';\r\n\r\nexport default function NumberOfTicketsPanel(props) {\r\n  const { handleChange, numberOfDisplayed, totalTickets } = props;\r\n  return (\r\n    <div className=\"number-panel-wrapper\">\r\n      <h1 className=\"title\">\r\n        Всего получено и обработано билетов:\r\n        <span className=\"number-panel-text\">{totalTickets}</span>\r\n      </h1>\r\n\r\n      <h1 className=\"title\">Количество билетов для показа: </h1>\r\n\r\n      <div className=\"number-panel__inputs-block\">\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"numberOfTickets\"\r\n            id=\"5\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChange}\r\n            checked={numberOfDisplayed === 5}\r\n          />\r\n          <label htmlFor=\"5\" className=\"radiobox__label first-child\">\r\n            5\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"numberOfTickets\"\r\n            id=\"10\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChange}\r\n            checked={numberOfDisplayed === 10}\r\n          />\r\n          <label htmlFor=\"10\" className=\"radiobox__label\">\r\n            10\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"numberOfTickets\"\r\n            id=\"15\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChange}\r\n            checked={numberOfDisplayed === 15}\r\n          />\r\n          <label htmlFor=\"15\" className=\"radiobox__label\">\r\n            15\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"numberOfTickets\"\r\n            id=\"50\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChange}\r\n            checked={numberOfDisplayed === 50}\r\n          />\r\n          <label htmlFor=\"50\" className=\"radiobox__label last-child\">\r\n            50\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nNumberOfTicketsPanel.propTypes = {\r\n  handleChange: PropTypes.func,\r\n  numberOfDisplayed: PropTypes.number,\r\n  totalTickets: PropTypes.number,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './sortingPanel.css';\r\n\r\nexport default function SortingPanel(props) {\r\n  const { handleChange, sortBy } = props;\r\n\r\n  return (\r\n    <div className=\"sorting-panel__inputs-block\">\r\n      <div className=\"radiobox\">\r\n        <input\r\n          type=\"radio\"\r\n          name=\"sortByCost\"\r\n          id=\"cost\"\r\n          className=\"radiobox__input\"\r\n          onChange={handleChange}\r\n          checked={sortBy === 'cost'}\r\n        />\r\n        <label htmlFor=\"cost\" className=\"radiobox__label first-child\">\r\n          <span>Самый дешевый</span>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"radiobox\">\r\n        <input\r\n          type=\"radio\"\r\n          name=\"sortByDuration\"\r\n          id=\"duration\"\r\n          className=\"radiobox__input\"\r\n          onChange={handleChange}\r\n          checked={sortBy === 'duration'}\r\n        />\r\n        <label htmlFor=\"duration\" className=\"radiobox__label last-child\">\r\n          Самый быстрый\r\n        </label>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSortingPanel.propTypes = {\r\n  handleChange: PropTypes.func,\r\n  sortBy: PropTypes.string,\r\n};\r\n","import axios from 'axios';\r\nimport { getSearchIdUrl as baseUrlSearchId } from './paths.js';\r\nimport { getTicketsUrl as baseUrlForTickets } from './paths.js';\r\nimport { cbCurrencyUrl } from './paths.js';\r\n\r\nexport const getSearchId = () =>\r\n  axios\r\n    .get(baseUrlSearchId)\r\n    .then((response) => {\r\n      return response.data.searchId;\r\n    })\r\n    .catch((error) => console.log(error));\r\n\r\nexport const getOnePackTickets = (id) => {\r\n  const getTicketsUrl = baseUrlForTickets + id;\r\n  let response = axios\r\n    .get(getTicketsUrl)\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      return;\r\n    });\r\n  return response;\r\n};\r\n\r\nexport function sortByPrice(array) {\r\n  const result = array.sort(function (ticketA, ticketB) {\r\n    const priceA = ticketA['price'],\r\n      priceB = ticketB['price'];\r\n    if (priceA < priceB) {\r\n      return -1;\r\n    } else if (priceA > priceB) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function sortByDuration(array) {\r\n  const result = array.sort(function (ticketA, ticketB) {\r\n    const durationA = ticketA['segments'][0]['duration'] + ticketA['segments'][1]['duration'],\r\n      durationB = ticketB['segments'][0]['duration'] + ticketB['segments'][1]['duration'];\r\n    if (durationA < durationB) {\r\n      return -1;\r\n    } else if (durationA > durationB) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function toggleClassBtnActive(event) {\r\n  if (!event.currentTarget.classList.contains('btn-active')) {\r\n    const btns = document.querySelectorAll('button');\r\n    for (var i = 0; i < btns.length; i++) {\r\n      btns[i].classList.toggle('btn-active');\r\n    }\r\n  }\r\n}\r\n\r\nexport function getCurrencyFromCB() {\r\n  return axios.get(cbCurrencyUrl);\r\n}\r\n\r\nexport const displayCurremcySymbol = (currency) => {\r\n  const StopNumber = {\r\n    RUB: 'Р',\r\n    USD: '$',\r\n    EUR: '€',\r\n  };\r\n  for (let key in StopNumber) {\r\n    if (key === currency) {\r\n      return StopNumber[key];\r\n    }\r\n  }\r\n};\r\n\r\nexport const displayPrice = (price) => {\r\n  let string = price.toString();\r\n  const length = string.length;\r\n  if (length > 3) {\r\n    string.split('');\r\n    const idx = length - 1 - 3;\r\n    const firstItems = string.slice(price[0], idx + 1);\r\n    const lastItems = string.slice(idx + 1, length + 1);\r\n    string = firstItems + ' ' + lastItems;\r\n    return string;\r\n  }\r\n  return string;\r\n};\r\n\r\nexport const getStopsNumber = (stops) => {\r\n  const StopNumber = {\r\n    1: '1 пересадка',\r\n    2: '2 пересадки',\r\n    3: '3 пересадки',\r\n    0: 'без пересадок',\r\n  };\r\n  for (let key in StopNumber) {\r\n    if (Number(key) === stops) {\r\n      return StopNumber[key];\r\n    }\r\n  }\r\n};\r\n\r\nexport function displayTime(time) {\r\n  const hour = Math.floor(time / 60);\r\n  const minutes = time % 60;\r\n  return `${hour}ч ${minutes}м `;\r\n}\r\n\r\nexport function viewDate(date) {\r\n  const day = date.getDate();\r\n  const month = date.getMonth();\r\n  const year = date.getFullYear();\r\n  const arr = [\r\n    'Январь',\r\n    'Февраль',\r\n    'Март',\r\n    'Апрель',\r\n    'Май',\r\n    'Июнь',\r\n    'Июль',\r\n    'Август',\r\n    'Сентябрь',\r\n    'Ноябрь',\r\n    'Декабрь',\r\n  ];\r\n  return day + ' ' + arr[month] + ' ' + year;\r\n}\r\n","export const getSearchIdUrl = 'https://front-test.beta.aviasales.ru/search'; // получение searchId\r\nexport const getTicketsUrl = 'https://front-test.beta.aviasales.ru/tickets?searchId='; //получение пачки билетов\r\nexport const cbCurrencyUrl = 'https://www.cbr-xml-daily.ru/daily_json.js'; // ЦБ получение курса валют\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  getStopsNumber,\r\n  displayPrice,\r\n  displayTime,\r\n  displayCurremcySymbol,\r\n} from '../../utils/utils';\r\nimport './ticket.css';\r\n\r\nexport default function Ticket(props) {\r\n  const { ticket, currencyData, currencyDisplayed } = props;\r\n  const { carrier, segments } = ticket;\r\n  let { price } = ticket;\r\n  const { usd, eur } = currencyData;\r\n  const carrierUrl = `http://pics.avs.io/99/36/${carrier}.png`;\r\n  const segmentForward = segments[0];\r\n  const {\r\n    origin: originForward,\r\n    destination: destinationForward,\r\n    duration: durationForward,\r\n    stops: stopsForward,\r\n  } = segmentForward;\r\n  const segmentBack = segments[1];\r\n  const {\r\n    origin: originBack,\r\n    destination: destinationBack,\r\n    duration: durationBack,\r\n    stops: stopsBack,\r\n  } = segmentBack;\r\n\r\n  if (currencyDisplayed === 'USD') {\r\n    price = Math.round(price / usd);\r\n  } else if (currencyDisplayed === 'EUR') {\r\n    price = Math.round(price / eur);\r\n  }\r\n\r\n  const viewTimeForward = displayTime(durationForward);\r\n  const viewTimeBack = displayTime(durationBack);\r\n  const viewPrice = displayPrice(price);\r\n  const viewCurrency = displayCurremcySymbol(currencyDisplayed);\r\n  const viewStopsForward = getStopsNumber(stopsForward.length);\r\n  const viewStopsBack = getStopsNumber(stopsBack.length);\r\n\r\n  return (\r\n    <div className=\"ticket-wrapper\">\r\n      <div className=\"ticket-header\">\r\n        <div className=\"ticket-header__price\">\r\n          {viewPrice} {viewCurrency}\r\n        </div>\r\n        <div className=\"ticket-header__logo\">\r\n          <img src={carrierUrl} alt=\"\"></img>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ticked-forward__container\">\r\n        <div className=\"ticket-forward__header\">\r\n          <div className=\"ticket-forward__header-route\">\r\n            <span className=\"ticket-forward__header-route--span\">\r\n              {originForward} - {destinationForward}\r\n            </span>\r\n          </div>\r\n          <div className=\"ticket-forward__header-length\">\r\n            <span className=\"ticket-forward__header-length--span\">В пути</span>\r\n          </div>\r\n          <div className=\"ticket-forward__header-stops\">\r\n            <span className=\"ticket-forward__header-stops--span\">{viewStopsForward}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"ticket-forward__value\">\r\n          <div className=\"ticket-forward__value-route\">\r\n            <span className=\"ticket-forward__value-route--span\">10:45-18:00</span>\r\n          </div>\r\n          <div className=\"ticket-forward__value-length\">\r\n            <span className=\"ticket-forward__value-length--span\">{viewTimeForward}</span>\r\n          </div>\r\n          <div className=\"ticket-forward__value-stops\">\r\n            <span className=\"ticket-forward__value-stops--span\">{stopsForward.join(' ')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ticked-back-container\">\r\n        <div className=\"ticket-back__header\">\r\n          <div className=\"ticket-back__header-route\">\r\n            <span className=\"ticket-back__header-route--span\">\r\n              {destinationBack} - {originBack}\r\n            </span>\r\n          </div>\r\n          <div className=\"ticket-back__header-length\">\r\n            <span className=\"ticket-back__header-length--span\">В пути</span>\r\n          </div>\r\n          <div className=\"ticket-back__header-stops\">\r\n            <span className=\"ticket-back__header-stops--span\">{viewStopsBack}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"ticket-back__value\">\r\n          <div className=\"ticket-back__value-route\">\r\n            <span className=\"ticket-back__value-route--span\">10:45-18:00</span>\r\n          </div>\r\n          <div className=\"ticket-back__value-length\">\r\n            <span className=\"ticket-back__value-length--span\">{viewTimeBack}</span>\r\n          </div>\r\n          <div className=\"ticket-back__value-stops\">\r\n            <span className=\"ticket-back__value-stops--span\">{stopsBack.join(' ')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nTicket.propTypes = {\r\n  ticket: PropTypes.object,\r\n  currencyData: PropTypes.object,\r\n  currencyDisplayed: PropTypes.string,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Ticket from './ticket';\r\nimport { uniqueId } from 'lodash';\r\n\r\nexport default function ListTickets(props) {\r\n  const { displayTickets, currencyData, currencyDisplayed } = props;\r\n\r\n  return displayTickets.map((item) => {\r\n    return (\r\n      <Ticket\r\n        key={uniqueId()}\r\n        ticket={item}\r\n        currencyData={currencyData}\r\n        currencyDisplayed={currencyDisplayed}\r\n      />\r\n    );\r\n  });\r\n}\r\n\r\nListTickets.proTypes = {\r\n  displayTickets: PropTypes.array,\r\n  currencyData: PropTypes.object,\r\n  currencyDisplayed: PropTypes.string,\r\n};\r\n","import React from 'react';\r\nimport './noTickets.css';\r\n\r\nexport default function NoTickets() {\r\n  return <div className=\"wrapper\">Билетов не найдено</div>;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './currencyPanel.css';\r\nimport { viewDate } from '../../utils/utils';\r\nexport default function CurrencyPanel(props) {\r\n  const { currencyData, currencyDisplayed, handleChangeCurrency } = props;\r\n  const { date, usd, eur } = currencyData;\r\n\r\n  const displayDate = viewDate(new Date(date));\r\n  const roundUsd = Number(usd).toFixed(2);\r\n  const roundEur = Number(eur).toFixed(2);\r\n\r\n  return (\r\n    <div className=\"currencyPanel-wrapper\">\r\n      <div className=\"currencyPanel-heading\">\r\n        Курс ЦБ по состоянию на:\r\n        <br /> {displayDate}\r\n      </div>\r\n      <div className=\"currencyPanel-text\">USD: {roundUsd}</div>\r\n      <div className=\"currencyPanel-text\">EUR: {roundEur}</div>\r\n      <div className=\"currencyPanel-heading\">Показать стоимость в другой валюте:</div>\r\n      <div className=\"currencyPanel__inputs-block\">\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            id=\"RUB\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChangeCurrency}\r\n            checked={currencyDisplayed === 'RUB'}\r\n          />\r\n          <label htmlFor=\"RUB\" className=\"radiobox__label first-child\">\r\n            RUB\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            id=\"USD\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChangeCurrency}\r\n            checked={currencyDisplayed === 'USD'}\r\n          />\r\n          <label htmlFor=\"USD\" className=\"radiobox__label\">\r\n            USD\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"radiobox\">\r\n          <input\r\n            type=\"radio\"\r\n            id=\"EUR\"\r\n            className=\"radiobox__input\"\r\n            onChange={handleChangeCurrency}\r\n            checked={currencyDisplayed === 'EUR'}\r\n          />\r\n          <label htmlFor=\"EUR\" className=\"radiobox__label last-child\">\r\n            EUR\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nCurrencyPanel.propTypes = {\r\n  currencyData: PropTypes.object,\r\n  currencyDisplayed: PropTypes.string,\r\n  handleChangeCurrency: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport './app.css';\r\nimport Header from './components/header/header';\r\nimport FilterStops from './components/filterStops/flterStops';\r\nimport NumberOfTicketsPanel from './components/numberOfTicketsPanel/numberOfTicketsPanel';\r\nimport SortingPanel from './components/sortingPanel/sortingPanel';\r\nimport ListTickets from './components/listTickets/listTickets';\r\nimport NoTickets from './components/listTickets/noTickets';\r\nimport CurrencyPanel from './components/currencyPanel/currencyPanel';\r\nimport {\r\n  getSearchId,\r\n  getOnePackTickets,\r\n  sortByPrice,\r\n  sortByDuration,\r\n  getCurrencyFromCB,\r\n} from './utils/utils';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    tickets: [],\r\n    displayTickets: [],\r\n    numberOfDisplayed: 5,\r\n    stops: {\r\n      all: true,\r\n      noStops: true,\r\n      oneStop: true,\r\n      twoStops: true,\r\n      threeStops: true,\r\n    },\r\n    sortBy: 'cost',\r\n    currencyData: {},\r\n    currencyDisplayed: 'RUB',\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.processingAllTickets();\r\n    this.getCurrency();\r\n  }\r\n\r\n  processingAllTickets = () => {\r\n    getSearchId().then((id) => {\r\n      this.getAllTickets(id);\r\n    });\r\n  };\r\n\r\n  getAllTickets = (id) => {\r\n    getOnePackTickets(id).then((response) => {\r\n      if (!response) {\r\n        this.getAllTickets(id);\r\n      } else {\r\n        const { stop, tickets } = response;\r\n        if (stop === false) {\r\n          this.proccesingCurrenthPack(tickets);\r\n          this.moveItemsToDisplayTickets();\r\n          this.getAllTickets(id);\r\n        } else if (stop === true) {\r\n          this.proccesingCurrenthPack(tickets);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  proccesingCurrenthPack = (newPackTickets) => {\r\n    const { tickets } = this.state;\r\n    this.setState(\r\n      {\r\n        tickets: [...tickets, ...newPackTickets],\r\n      },\r\n      () => this.updateTickets()\r\n    );\r\n  };\r\n\r\n  getCurrency = () => {\r\n    getCurrencyFromCB().then((response) => {\r\n      const currencyDate = response.data.Date;\r\n      const usd = response.data.Valute.USD.Value;\r\n      const eur = response.data.Valute.EUR.Value;\r\n      const currencyData = { date: currencyDate, usd, eur };\r\n      this.setState({\r\n        currencyData,\r\n      });\r\n    });\r\n  };\r\n\r\n  handleChangeNumberOfDisplated = (event) => {\r\n    const id = Number(event.currentTarget.id);\r\n    this.setState(\r\n      {\r\n        numberOfDisplayed: id,\r\n      },\r\n      () => {\r\n        this.updateTickets();\r\n      }\r\n    );\r\n  };\r\n\r\n  handleChangeCurrency = (event) => {\r\n    const id = event.currentTarget.id;\r\n    this.setState(\r\n      {\r\n        currencyDisplayed: id,\r\n      },\r\n      () => {\r\n        this.updateTickets();\r\n      }\r\n    );\r\n  };\r\n\r\n  handleChangeSort = (event) => {\r\n    const id = event.currentTarget.id;\r\n    this.setState(\r\n      {\r\n        sortBy: id,\r\n      },\r\n      () => this.sortTickets()\r\n    );\r\n  };\r\n\r\n  sortTickets = () => {\r\n    const { tickets, sortBy } = this.state;\r\n    if (sortBy === 'cost') {\r\n      sortByPrice(tickets);\r\n    } else {\r\n      sortByDuration(tickets);\r\n    }\r\n    this.filterByStops();\r\n  };\r\n\r\n  updateTickets = () => {\r\n    this.sortTickets();\r\n    this.filterByStops();\r\n  };\r\n\r\n  handleChangeFilterStops = (event) => {\r\n    const theStop = event.currentTarget.id;\r\n    const { stops } = this.state;\r\n    const { all, noStops, oneStop, twoStops, threeStops } = stops;\r\n\r\n    const stopsStateChange = (theStop) => {\r\n      if (theStop === 'all' && all === false) {\r\n        return {\r\n          ...stops,\r\n          all: true,\r\n          noStops: true,\r\n          oneStop: true,\r\n          twoStops: true,\r\n          threeStops: true,\r\n        };\r\n      }\r\n      const stopsStatus = {\r\n        noStops: { ...stops, noStops: !noStops, all: false },\r\n        oneStop: { ...stops, oneStop: !oneStop, all: false },\r\n        twoStops: { ...stops, twoStops: !twoStops, all: false },\r\n        threeStops: { ...stops, threeStops: !threeStops, all: false },\r\n        all: {\r\n          ...stops,\r\n          all: false,\r\n          noStops: false,\r\n          oneStop: false,\r\n          twoStops: false,\r\n          threeStops: false,\r\n        },\r\n      };\r\n      for (let key in stopsStatus) {\r\n        if (key === theStop) {\r\n          return stopsStatus[key];\r\n        }\r\n      }\r\n    };\r\n\r\n    let newStops = stopsStateChange(theStop);\r\n\r\n    if (\r\n      newStops.all === false &&\r\n      newStops.noStops === true &&\r\n      newStops.oneStop === true &&\r\n      newStops.twoStops === true &&\r\n      newStops.threeStops === true\r\n    ) {\r\n      newStops = {\r\n        ...stops,\r\n        all: true,\r\n        noStops: true,\r\n        oneStop: true,\r\n        twoStops: true,\r\n        threeStops: true,\r\n      };\r\n    }\r\n    this.setState({ stops: newStops }, () => this.updateTickets());\r\n  };\r\n\r\n  getArrayStopsFilter = () => {\r\n    let arrayForFilter = [];\r\n    const currentStopsState = this.state.stops;\r\n    for (let key in currentStopsState) {\r\n      if (currentStopsState[key] === true) {\r\n        arrayForFilter = [...arrayForFilter, key];\r\n      }\r\n    }\r\n    const stopsCount = {\r\n      noStops: 0,\r\n      oneStop: 1,\r\n      twoStops: 2,\r\n      threeStops: 3,\r\n    };\r\n    return arrayForFilter.map((item) => stopsCount[item]);\r\n  };\r\n\r\n  filterByStops = () => {\r\n    const { tickets } = this.state;\r\n    const checkArr = this.getArrayStopsFilter();\r\n    function contains(arr, elem) {\r\n      for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i] === elem) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    const result = tickets.filter((item) => contains(checkArr, item['segments'][0].stops.length));\r\n    this.moveItemsToDisplayTickets(result);\r\n  };\r\n\r\n  moveItemsToDisplayTickets = (array = this.state.tickets) => {\r\n    const { numberOfDisplayed } = this.state;\r\n    let newValue = [];\r\n    for (let i = 0; i < numberOfDisplayed; i++) {\r\n      if (array[i]) {\r\n        newValue.push(array[i]);\r\n      }\r\n    }\r\n    this.setState({\r\n      displayTickets: newValue,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      tickets,\r\n      displayTickets,\r\n      stops,\r\n      sortBy,\r\n      numberOfDisplayed,\r\n      currencyData,\r\n      currencyDisplayed,\r\n    } = this.state;\r\n    const totalTickets = tickets.length;\r\n\r\n    const listTickets = displayTickets.length ? (\r\n      <ListTickets\r\n        displayTickets={displayTickets}\r\n        currencyData={currencyData}\r\n        currencyDisplayed={currencyDisplayed}\r\n      />\r\n    ) : (\r\n      <NoTickets />\r\n    );\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <div className=\"header\">\r\n          <Header />\r\n        </div>\r\n        <div className=\"main\">\r\n          <div className=\"left-aside\">\r\n            <FilterStops handleChangeFilterStops={this.handleChangeFilterStops} stopsData={stops} />\r\n            <NumberOfTicketsPanel\r\n              handleChange={this.handleChangeNumberOfDisplated}\r\n              numberOfDisplayed={numberOfDisplayed}\r\n              totalTickets={totalTickets}\r\n            />\r\n            <CurrencyPanel\r\n              currencyData={currencyData}\r\n              currencyDisplayed={currencyDisplayed}\r\n              handleChangeCurrency={this.handleChangeCurrency}\r\n            />\r\n          </div>\r\n          <div className=\"right-aside\">\r\n            <SortingPanel sortBy={sortBy} handleChange={this.handleChangeSort} />\r\n            {listTickets}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\n// import 'errorBoundary.css';\r\n\r\nexport class ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <h1>Что-то пошло не так. Скоро починим</h1>\r\n      )\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './app';\nimport { ErrorBoundary } from './components/errorBoundary/errorBoundary.jsx';\n\nReactDOM.render(\n  <ErrorBoundary>\n    <App />\n  </ErrorBoundary>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}